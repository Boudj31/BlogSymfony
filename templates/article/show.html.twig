{% extends 'base.html.twig' %}

{% block title %}Article{% endblock %}

{% block content %}
    <h1>Article</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ article.id }}</td>
            </tr>
            <tr>
                <th>Title</th>
                <td>{{ article.title }}</td>
            </tr>
            <tr>
                <th>Summary</th>
                <td>{{ article.summary }}</td>
            </tr>
            <tr>
                <th>Content</th>
                <td>{{ article.content }}</td>
            </tr>
            <tr>
                <th>CreatedAt</th>
                <td>{{ article.createdAt ? article.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>UpdateAt</th>
                <td>{{ article.updateAt ? article.updateAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Published</th>
                <td>{{ article.published ? 'Yes' : 'No' }}</td>
            </tr>
        </tbody>
    </table>
   
    <a href="{{ path('article_index') }}">back to list</a>

   
	{% if is_granted('IS_AUTHENTICATED_FULLY') %}
		<a href="{{ path('article_edit', {'id': article.id}) }}">edit</a>

		{{ include('article/_delete_form.html.twig') }}
	{% endif %}

	<h3>Les commentaires :</h3>

	<section>
		{{ form_start(form_create) }}
		{{ form_widget(form_create) }}
		<button class="btn btn-success">{{ button_label|default('Commenter') }}</button>
		{{ form_end(form_create) }}
	</section>

	<div class="col-12 mt-4">
		{% for comment in comments %}
			<div class="card mb-3">
				<div class="card-body">
					<strong>{{ comment.author ? comment.author.pseudo : ''}}</strong>
					<p class="comment_date">Publi√© le {{ article.createdAt ? article.createdAt|date('Y-m-d H:i') : '' }} </p>
					<p class="card-text">{{ comment.content }}</p>
				</div>
			</div>
		{% else %}
			<div class="alert alert-danger" role="alert">
				Pas de commentaire pour le moment
			</div>
		{% endfor %}
	</div>

{% endblock %}

